\chapter{Wyniki}
\label{cha:wyniki}

%TODO
W rozdziale tym przedstawiono informacje .

Je¿eli nie jest wskazane inaczej w eksperymencie, przyjmowane s± nastêpuj±ce warto¶ci sta³e:
\begin{itemize}
\item $\mu = 0.05$ - wspó³czynnik tarcia, typowa warto¶æ dla nasmarowanych nart %TODO odno¶nik
\item $\rho = 1.17 \frac{kg}{m^3}$ - przybli¿ona warto¶æ gêsto¶ci powietrza dla temperatury $0^\circ C$
i wilgotno¶ci 20\% na wysoko¶ci 800 m n.p.m
\item $C = 0.6$ - wspó³czynnik oporu powietrza, typowe warto¶ci to 0.4 - 1
\item $A = 0.2 m^2$ - frontalna powierzchnia narciarza w projekcji prostopad³ej do wektora prêdko¶ci narciarza
\item $k_2 = 0.5 * C \rho A$ - wspó³czynnik oporu powietrza
\item $k_1 = 0.05 $ - wspó³czynnik oporu powietrza

\end{itemize}

W eksperymentach wszystkie wspó³rzêdne punktów s± w uk³adzie kartezjañskim, dwuwymiarowym, zorientowanym na p³aszczy¼nie stoku. O¶ x skierowana jest wzd³u¿ stoku, natomiast o¶ y w poprzek.
%---------------------------------------------------------------------------

\section{Weryfikacja modelu}
\label{sec:weryfikacja}

W tej sekcji chcia³y¶my pokazaæ, ¿e model, który zosta³ przyjêty jest prawid³owy. W poni¿szych eksperymentach zostanie pokazane, ¿e zale¿no¶ci pomiêdzy zmian± poszczególnych zmiennych modelu, takich jak masa czy nachylenie stoku, a otrzymywanym czasem przejazdu, jest zgodne z prawami fizyki. Kolejne eksperymenty uka¿± równie¿, ¿e czas przejazdu po teoretycznie najszybciej trasie jest praktycznie identyczny z tym, który mo¿na wyliczyæ ze wzorów przedstawionych w artyku³ach naukowych. Na koniec sprawdzimy czy mo¿liwe jest przybli¿anie jazdy narciarza jazd± po ³amanej, jak gêsto bêd± musia³y byæ rozmieszczane punkty przegiêcia, ¿eby nie straciæ na dok³adno¶ci.

\subsection{Masa i nachylenie stoku}
Na pocz±tek zosta³y przeprowadzane proste eksperymenty, które dowodz±, ¿e przyjêty model jest poprawny. Dlatego dla celów pierwszego testu naj³atwiej by³o sprawdziæ jak zmienia siê czas przejazdu narciarza poruszaj±cego siê po prostej w dó³ stoku przy ró¿nych masach oraz nachyleniu stoku, dodatkowo sprawdzaj±c jaki wp³yw na wyniki ma równie¿ tarcie oraz opór powietrza.

Analizuj±c równanie \ref{eq:rownRuchu}, które opisuje model poruszania siê narciarza zauwa¿amy, ¿e jego masa wp³ywa jedynie na warto¶æ si³y oporu powietrza. Natomiast k±t nachylenia $\alpha$ wp³ywa zarówno na si³ê ¶ci±gaj±c±, jak i na si³ê tarcia. W opisanym eksperymencie zostanie pokazane, ¿e:
\begin{itemize}
\item im wiêkszy k±t nachylenia stoku tym szybciej porusza siê narciarz, bez wzglêdu na rodzaj uwzglêdnionych si³ oporu
\item je¶li uwzglêdnimy tylko si³ê ¶ci±gaj±c±, bez si³ oporu czas przejazdu narciarzy o ró¿nych masach na tej samej trasie jest identyczny
\item taki sam wynik otrzymamy je¶li uwzglêdnimy dodatkowo si³ê tarcia
\item przy uwzglêdnieniu si³y oporu powietrza otrzymujemy nastêpuj±c± zale¿no¶æ: im wiêksza jest masa narciarza, tym mniejsza jest si³a oporu powietrza co skutkuje szybszym przejazdem narciarza
\end{itemize}

\subsubsection{Opis eksperymentu}
Eksperyment zosta³ przeprowadzony na dwóch modelach stoków narciarskich. Oba maj± 600 m d³ugo¶ci co odpowiada rzeczywistej d³ugo¶ci stoku Harenda w Zakopanem. Stoki modelujemy jako równie pochy³e o sta³ym nachyleniu. Aby zweryfikowaæ prawid³owo¶æ modelu, w eksperymencie zosta³y wprowadzone rzeczywiste warto¶ci nachyleñ stoków Harenda w Zakopanem oraz Kotelnica w Bia³ce Tatrzañskiej.
\begin{itemize}
\item Harenda - ok. $20^\circ$ (0.33667 radianów)
\item Kotelnica - ok. $8^\circ$ (0.1470 radianów)
\end{itemize}

Aby zweryfikowaæ wszystkie za³o¿enia eksperymentu przeprowadzone zosta³y trzy próby, których wyniki mo¿na zobaczyæ odpowiednio na kolejnych wykresach \ref{fig:bezOporow}, \ref{fig:bezOporu}, \ref{fig:wszystkieOpory}. W pierwszej czê¶ci eksperymentu uwzglêdniamy tylko i wy³±cznie si³ê grawitacji, w drugiej dok³adamy wy³±cznie si³ê tarcia , natomiast w trzeciej uwzglêdniamy wszystkie si³y oporu, a wiêc tak¿e si³ê oporu powietrza.

\subsubsection{Rezultaty eksperymentu}

\begin{figure}[hp]
\label{fig:bezOporow}
\centering
\includegraphics[scale=0.8]{experyment-masa-bez-oporow}
\end{figure}

\begin{figure}[hp]
\label{fig:bezOporu}
\centering
\includegraphics[scale=0.8]{experyment-masa-bez-oporu}
\end{figure}

\begin{figure}[hp]
\label{fig:wszystkieOpory}
\centering
\includegraphics[scale=0.8]{experyment-masa}
\end{figure}

Obserwujemy, ¿e w ka¿dym z trzech przypadków na stromym stoku narciarze przeje¿d¿aj± ten sam dystans w krótszym czasie. W pierwszej i drugiej czê¶ci eksperymentu nie ma znaczenia masa narciarza - czas przejazdu jest taki sam. Jednak na wykresie \ref{fig:bezOporow} czas przejazdu wynosi odpowiednio ok. 19 i 28 s., natomiast je¶li uwzglêdnimy si³ê tarcia, czasy te wyd³u¿aj± siê do ok. 21 i 35 s.\\
Analizuj±c wykres \ref{fig:wszystkieOpory} zauwa¿amy, ¿e na bardziej stromym stoku ró¿nica w czasie przejazdu pomiêdzy ciê¿szym a l¿ejszym narciarzem wynosi 1.14 s na korzy¶æ ciê¿szego, a na ³agodniejszym 1.94 s równie¿ na korzy¶æ ciê¿szego. Zmierzone czasy przejazdu slalomu w rzeczywisto¶ci na stoku Harenda wynosz± ok. 40 s, a wiêc wydaje siê rozs±dne, ¿e przejazd na wprost mo¿e zajmowaæ ok. 22 s, które zosta³y otrzymane w eksperymencie. W porównaniu z poprzednimi czê¶ciami eksperymentu ³atwo spostrzec, ¿e czas przejazdu jest jeszcze d³u¿szy - 22-23 oraz 38-40 s.

\subsection{Najszybsza linia przejazdu}
Optymalizacja trasy narciarza polega na znalezieniu takiej linii przejazdu, która spowoduje najszybszy przejazd. Warto tu zauwa¿yæ, ¿e wbrew pozorom, nie oznacza to zawsze najkrótszej linii. W poni¿szym eksperymencie zostanie pokazane jak zmienia siê czas przejazdu w zale¿no¶ci od linii poruszania siê.

Rozwa¿my przyk³ad bez bramek, gdzie najkrótsza linia przejazdu nie powoduje jazdy w skos stoku. W takim przypadku, jest to jednocze¶nie najszybsza trasa przejazdu. W eksperymencie zostanie pokazane tak¿e, ¿e:

\subsubsection{Opis eksperymentu}
Chcemy sprawdziæ ile czasu zajmie narciarzowi przejechanie z punktu (0,0) do punktu (10,10). Aby upro¶ciæ przyk³ad, sprawdzimy najpierw wyniki pomijaj±c wk³ad wszystkich oporów. Gdyby narciarz porusza³ siê po linii prostej, bezpo¶rednio do punktu koñcowego, czas przejazdu mo¿na wyliczyæ przekszta³caj±c wzór:

\begin{equation}
s = \frac{at^2}{2}
\end{equation}

i otrzymuj±c:

\begin{equation}
t = \sqrt{\frac{2s}{a}}
\end{equation}

gdzie $s = 10\sqrt{2}$ - odleg³o¶æ miêdzy punktem pocz±tkowym i koñcowym, a przyspieszenie $a = g\sin(\frac{\pi}{12})\sin(\frac{\pi}{4}) $. Przyspieszenie narciarza jest sk³adow± przyspieszenia ziemskiego uwzglêdniaj±c± zarówno nachylenie stoku ($\frac{\pi}{12}$), jak i jazdê w skos stoku ($\frac{\pi}{4}$, czyli $45^\circ$). Zatem czas przejazdu po linii prostej powinien wynosiæ oko³o:

\begin{equation}
t = \frac{2*10\sqrt{2}}{9.81*\sin(\frac{\pi}{12})\sin(\frac{\pi}{4})} \simeq 3.969 
\end{equation}

Sprawdzimy teraz jakie czasy otrzymamy wykorzystuj±c program, sprawdzaj±c poruszanie siê po linii prostej oraz po æwiartce okrêgu (a dok³adniej po ³amanej, której kolejne punkty za³amanie znajduj± siê na okrêgu). Poni¿ej widzimy na obrazku jak wygl±da trasa przejazdu w dwóch przypadkach.

\begin{figure}[h]
\centering
\includegraphics{czasPrzejazdu}
\end{figure}

\subsubsection{Rezultaty eksperymentu}
W tym przypadku otrzymali¶my wyniki odpowiednio dla narciarza jad±cego po prostej 3.965, a dla poruszaj±cego siê po czarnej linii 3.671.

Po pierwsze warto zwróciæ uwagê, ¿e czas jazdy po prostej minimalnie ró¿ni siê od czasu teoretycznego - ró¿nica ta wynosi ok. 0.1\%, co jest dopuszczalne i mo¿liwe do zaniedbania, gdy¿ nie ma znacz±cego wp³ywu na wyniki eksperymentów. Ró¿nica ta mo¿e wynikaæ z niedok³adno¶ci obliczeñ numerycznych, a tak¿e z trudno¶ci trafienia przez narciarza idealnie do punktu koñcowego, w którym powinien siê znale¼æ.

Wyra¼nie widaæ równie¿, ¿e czas przejazdu po linii czarnej jest krótszy ni¿ czas przejazdu po linii niebieskiej. Trasê po prostej narciarz przebywa w ok. 7\% d³u¿szym czasie ni¿ trasê d³u¿sz±. Na tak krótkim odcinku narciarz by³ w stanie zdobyæ przewagê ok. 0.3 s. Wa¿ne jest to, ¿e w prawdziwych przejazdach slalomowych nawet najmniejsza ró¿nica czasu mo¿e decydowaæ o wygranej. Dlatego ogromne znaczenie ma tor po jakim porusza siê narciarz i nawet najmniejsza zmiana mo¿e powodowaæ kluczow± poprawê czasu na ca³ej trasie. Czasami warto pojechaæ d³u¿sz± tras±, ale tak±, na której nabierzemy prêdko¶ci i pó¼niej zyskamy na kolejnym odcinku.

%TODO odno¶niki
Pozostaje jeszcze pytanie jaka jest najlepsza linia poruszania siê pomiêdzy dwoma punktami. Problem ten zosta³ ju¿ rozwi±zany - linia najszybsza jest fragmentem cykloidy. Dok³adniejsze informacje mo¿na znale¼æ m.in. w http://www.hep.caltech.edu/~fcp/math/variationalCalculus/variationalCalculus.pdf oraz
http://www.math.utk.edu/~freire/teaching/m231f08/m231f08brachistochrone.pdf.
W http://www.math.utk.edu/~freire/teaching/m231f08/m231f08brachistochrone.pdf znajduje siê wzór na czas przejazdu pomiêdzy dwoma punktami. Podstawiaj±c odpowiednio wyliczone parametry otrzymujemy, ¿e najkrótszy mo¿liwy czas przejazdu z punktu (0,0) do punktu (10,10) to ok. 3.623.

\subsection{Jazda po ³amanej}
\label{sec:lamana}
Kolejnym krokiem by³o sprawdzenie, ¿e rzeczywi¶cie mo¿emy przybli¿aæ jazdê narciarza jako poruszanie siê po odcinkach ³amanej. Wa¿ne jest stwierdzenie jakie ró¿nice w czasie bêd± wystêpowaæ pomiêdzy jazd± po ³uku, a jazd± po ³amanej. Ró¿nice te oczywi¶cie bêd± zale¿eæ od tego jak dok³adne przybli¿enie zrobimy.

\subsubsection{Opis eksperymentu}
W eksperymencie sprawdzaæ bêdziemy jak zmienia siê czas przejazdu w zale¿no¶ci od dok³adno¶ci przybli¿enia ³amanej. Jako tor przejazdu przyjêta zosta³a najszybsza linia przejazdu do punktu (10,10), po której przejechanie zajmuje 3.623 s (jak wspomniano w poprzednim eksperymencie. %TODO

Wybieraj±c okre¶lon± liczbê punktów znajduj±cych siê na linii ³uku sprawdzimy ile czasu zajmuje przejechanie po ³amanej utworzonej z tych punktów w porównaniu z jazd± po ³uku. Nale¿y równie¿ okre¶liæ jak czêsto musz± znajdowaæ siê punkty, aby ró¿nica w czasie by³a zaniedbywalnie ma³a.

\subsubsection{Rezultaty eksperymentu}

Poni¿ej znajduj± siê obrazki przedstawiaj±ce poszczególne próby przejazdu po ³amanej sk³adaj±cej siê odpowiednio z 2-6 punktów po¶rednich (linia szara) oraz pierwotn± liniê najszybszego przejazdu (linia niebieska).

%TODO opis
\begin{figure}[hp]
\label{fig:brachSteps}
\centering
\includegraphics[scale=0.8]{brach_steps}
\end{figure}

Oto uzyskane wyniki w zale¿no¶ci od ilo¶ci punktów po¶rednich oraz ró¿nica czasu w porównaniu do najkrótszego czasu przejazdu - 3.623.

%TODO opis tabelki
\begin{tabular}{ | c | c | c |}
  \hline                        
  ilo¶æ punktów po¶rednich & czas przejazdu [s] & ró¿nica w stosunku do czasu najszybszego [s] \\ \hline  
  2 & 3.687 & 0.064 \\ \hline
  3 & 3.647 & 0.023 \\ \hline
  4 & 3.635 & 0.012 \\ \hline
  5 & 3.629 & 0.006 \\ \hline
  6 & 3.626 & 0.003 \\ \hline
\end{tabular}\\


Ró¿nice w czasie wahaj± siê od 0.003 do 0.064 s, jest to odpowiednio od 0.08\% do ok. 1.8\% ró¿nicy. Wydaje siê byæ wystarczaj±cym, aby na tym odcinku okre¶liæ trzy punkty po¶rednie, gdy¿ ró¿nica wynosi ok. 0.023 s co stanowi ok. 100.6\% czasu najszybszego, a wiêc ró¿nica nie przekracza 1\%. Zreszt± to samo mo¿na stwierdziæ z rysunków - ju¿ dla trzech punktów praktycznie nie widaæ ró¿nicy pomiêdzy liniami. Zatem na takiej trasie, której odleg³o¶æ w pionie wynosi 10 m mo¿na okre¶liæ 3-4 punktów po¶rednich, które z przybli¿eniem nie wnosz±cym zbyt du¿ych ró¿nic do wyniku bêd± wyznacza³y trasê koñcow±. Oznacza to, ¿e punkty te powinny znajdowaæ siê w odleg³o¶ciach 2-4 m. 

\section{Optymalizacja}
\label{sec:optWyniki}

\subsection{Algorytm ewolucyjny}
\label{sec:ewolucyjnyWyniki}
Wiedz±c, ¿e za³o¿enia dotycz±ce modelu oraz sposób poruszania siê narciarza mo¿na uznaæ za poprawne i zbli¿one do tego co rzeczywi¶cie dzieje siê podczas jazdy na stoku, przetestujemy teraz jak sprawdza siê algorytm genetyczny do celów optymalizacji trasy slalomu.

W poni¿szych eksperymentach wykorzystane zostanie nastêpuj±ce ustawienie bramek: (5,13), (0,26), (5,39), (4,44), (11,57), (0,70). Ustawienie to jest podobne do tych, które s± wybierane w rzeczywisto¶ci. Posiada tak¿e wertikal, czêsto stosowany w slalomie, który ma wymuszaæ zmianê rytmu, a wiêc bêdzie dobrym sprawdzianem dla zastosowanego algorytmu.

Zak³adamy, ¿e narciarz startuj±c ma prêdko¶æ pocz±tkow± $1\frac{m}{s}$. Jest to kierowane tym, ¿e przy starcie zawodnicy zaczynaj± od odepchniêcia siê kijami od ¶niegu nadaj±c sobie prêdko¶æ pocz±tkow±. Najwa¿niejsze jest to, ¿e warto¶æ ta bêdzie sta³a dla wszystkich eksperymentów.

W eksperymencie \ref{sec:lamana} zosta³o stwierdzone, ¿e odleg³o¶ci w pionie pomiêdzy kolejnymi punktami wyznaczaj±cymi trasê powinna wynosiæ 2-4 m. Zatem przyjmijmy, ¿e bêd± to 3 m, co dla wy¿ej podanego slalomu daje nam nieca³e 30 punktów do optymalizacji.

Warto¶ci parametrów algorytmu genetycznego s± takie jak wymienione wcze¶niej w rozdziale \ref{sec:ewolucyjnyRozw}. Korzystamy z algorytmu $(\mu + \lambda)$, gdzie $\mu = 30$, a $\lambda = 100$. W ka¿dej iteracji najpierw krzy¿ujemy osobniki z populacji tymczasowej, losuj±c pary rodzicielskie, a w wyniku krzy¿owania powstaje znów 100 osobników. Nastêpnie mutacji podlegaj± wszystkie z tych osobników. Jedynym zastrze¿eniem jest nie zmienianie pozycji punktów przejazdu przez bramki - chcemy, aby narciarz przejecha³ zawsze jak najbli¿ej bramki. Je¶li która¶ z warto¶ci lub zastosowanych algorytmów zmienia siê, jest to zaznaczone w eksperymencie.


\subsubsection{Warunek zakoñczenia}
Warunkiem stopu w zastosowanym algorytmie genetycznym jest sprawdzenie czy populacja, na której dzia³amy przesta³a byæ ju¿ zró¿nicowana. Dodatkowo, je¶li ró¿nica pomiêdzy najlepszym, a najgorszym osobnikiem jest ma³a, czekamy przez okre¶lon± liczbê iteracji, aby sprawdziæ czy uzyskujemy jeszcze jak±¶ poprawê najlepszego osobnika, ale wiêksz± ni¿ zadana granica. Je¶li taka sytuacja nie zachodzi, oznacza to, ¿e szanse na poprawê wyniku s± niewielkie i mo¿na zakoñczyæ dzia³anie algorytmu. W rozwi±zaniu tym istniej± jednak trzy parametry, których wp³yw na ostateczny wynik zbadamy w tym eksperymencie. 

\paragraph{Eksperyment 1.} W pierwszym eksperymencie parametry zakoñczenia algorytmu wynosz±:
\begin{itemize}
\item dla zró¿nicowania populacji przyjmujemy na pocz±tek warto¶æ 0.1, czyli 10\%, gdzie warto¶æ ta obliczana jest na podstawie najlepszej i najgorszej warto¶ci fitness w populacji, a nastêpnie dzielona przez warto¶æ najlepsz± (aby uzyskaæ warto¶æ w \% mno¿ymy przez 100\%)
\item zmiana najlepszego osobnika jest uznawana za wystarczaj±co du¿± je¶li wyniesie przynajmniej 0.3 s
\item ilo¶æ iteracji przez które czekamy na zmianê najlepszego osobnika to na pocz±tek 7
\end{itemize}

W zwi±zku z tym, ¿e zachowanie algorytmu jest niedeterministyczne, dla ka¿dego zestawu parametrów zosta³y przeprowadzone po trzy eksperymenty, aby mo¿na by³o u¶redniæ wyniki i porównaæ eksperymenty miêdzy sob±.

Poni¿ej znajduj± siê wyniki wizualne przeprowadzonego eksperymentu. Na ka¿dym obrazku widoczna jest znaleziona najlepsza trasa oraz wykres zmian warto¶ci fitness odpowiednio: najlepszego osobnika w ka¿dej iteracji (kolor czerwony), najgorszego osobnika (kolor zielony) oraz ¶rednia warto¶æ fitness ca³ej populacji.

%TODO opis
\begin{figure}[h]
\label{fig:w1s}
\centering
\includegraphics[scale=0.8]{wyniki/wynik1-s}
\end{figure}

%TODO opis
\begin{figure}[h]
\label{fig:w1w}
\centering
\includegraphics[scale=0.5]{wyniki/wynik1-w}
\end{figure}

Kolejno¶æ slalomów odpowiada kolejno¶ci wykresów. Ilo¶æ iteracji w przypadku tych wyników wynios³a 7-9, czas dzia³ania algorytmu to ok. 20 s.

Przyk³adowe wyniki:
1) 7.968 s
2) 8.039 s
3) 7.917 s

Jak widaæ wyra¼nie na obrazkach, wyniki nie s± satysfakcjonuj±ce - trasa przejazdu nie jest g³adka i z pewno¶ci± istnieje lepsze rozwi±zanie. Jednak skoro zosta³o wykonanych tylko kilka iteracji algorytmu, oznacza to, ¿e mo¿na spróbowaæ uzyskaæ lepsze wyniki poprzez wyd³u¿enie czasu dzia³ania algorytmu.

\paragraph{Eksperyment 2.} Wprowadzamy teraz zmianê w warto¶ci parametru oznaczaj±cego ró¿nicê w fitness najlepszego osobnika. Zamiast warto¶ci 0.3 s teraz bêdzie to 0.1 s.

%TODO opis
\begin{figure}[h]
\label{fig:w2s}
\centering
\includegraphics[scale=1]{wyniki/wynik2-s}
\end{figure}

%TODO opis
\begin{figure}[h]
\label{fig:w2w}
\centering
\includegraphics[scale=0.7]{wyniki/wynik2-w}
\end{figure}


1) 7.916 s (15, 49s)
2) 7.809 s (14, 46)
3) 7.777 s (16, 51)

Wyniki poprawi³y siê, linia przejazdu jest du¿o g³adsza, a czasy poprawi³y siê o ok. 0.2 s, czyli o ok. kilka \%. Jednak czas dzia³ania algorytmu wyd³u¿y³ siê do 45-50 s, a ilo¶æ iteracji wynios³a 14-16.

Spróbujmy w takim razie zmieniæ równie¿ parametr dotycz±cy zró¿nicowania populacji - niech bêdzie to teraz nie 10\%, a 1\%.


%TODO opis
\begin{figure}[h]
\label{fig:w3s}
\centering
\includegraphics[scale=1]{wyniki/wynik3-s}
\end{figure}

%TODO opis
\begin{figure}[h]
\label{fig:w3w}
\centering
\includegraphics[scale=0.7]{wyniki/wynik3-w}
\end{figure}

7.8180694580078125 (17, 55)
7.822418212890625  (14, 45)
7.8166961669921875  (14, 47)

Jak widaæ wyniki nie s± lepsze ni¿ te poprzednie. Zatem ten warunek nie zmieni³ zachowania. Pozosta³ natomiast jeszcze warunek ilo¶ci iteracji przez które sprawdzamy czy poprawia siê fitness najlepszego osobnika.

Zmieniamy teraz warto¶æ ilo¶ci iteracji z 7 na 10.

%TODO opis
\begin{figure}[h]
\label{fig:w4s}
\centering
\includegraphics[scale=1]{wyniki/wynik4-s}
\end{figure}

%TODO opis
\begin{figure}[h]
\label{fig:w4w}
\centering
\includegraphics[scale=0.7]{wyniki/wynik4-w}
\end{figure}


7.891693115234375 (13, 41)
7.74322509765625 (19, 60)
7.836456298828125 (13, 41)

Jak widaæ, równie¿ zmiana tego parametru niewiele zmienia, choæ uda³o siê otrzymaæ dotychczas najlepszy wynik. Poniewa¿ algorytm ten jest niedeterministyczny trudno oceniæ jakie warto¶ci parametrów s± optymalne. Oczywi¶cie mo¿na dalej zmniejszaæ ich warto¶ci w poszukiwaniu lepszego wyniku.

Drug± opcj±, która pomog³aby rozwi±zaæ problem zbyt szybkiej zbie¿no¶ci populacji by³oby wprowadzenie w chwili pojawienia siê takiej sytuacji nowych osobników, aby wprowadziæ wiêksz± ró¿norodno¶æ i umo¿liwiæ dalsze poszukiwania. Jednak w trakcie szczegó³owej analizy wyników z kolejnych iteracji (widocznych na wykresach), ³atwo zauwa¿yæ, ¿e na pocz±tku poprawa jest znacz±ca z ka¿d± iteracj±, a pod koniec zmiany s± niewielkie. Mo¿na zatem pomy¶leæ o wprowadzeniu innego algorytmu kiedy zmiany s± ju¿ s³abo widoczne, który skuteczniej znajdzie lepsze rozwi±zanie. Wprowadzeniem takiego rozwi±zania jest zastosowanie lokalnej optymalizacji. Wyniki tego podej¶cia opisane s± w sekcji \ref{sec:lokalnaWyniki}.

Pozostaj± jednak jeszcze pozosta³e parametry algorytmu jak $\mu$ i $\lambda$.

\subsubsection{Parametry $\mu$ i $\lambda$}
50 150

%TODO opis
\begin{figure}[h]
\label{fig:w5s}
\centering
\includegraphics[scale=1]{wyniki/wynik5-s}
\end{figure}

%TODO opis
\begin{figure}[h]
\label{fig:w5w}
\centering
\includegraphics[scale=0.7]{wyniki/wynik5-w}
\end{figure}


7.7803802490234375 (17, 81)
7.8143310546875		(21, 109)
7.8043365478515625	(17, 88)

60 200
%TODO eksperyment + zmieniæ wykresy

%TODO opis
\begin{figure}[h]
\label{fig:w6s}
\centering
\includegraphics[scale=0.8]{wyniki/wynik6-s}
\end{figure}

%TODO opis
\begin{figure}[h]
\label{fig:w6w}
\centering
\includegraphics[scale=0.5]{wyniki/wynik6-w}
\end{figure}

7.7288818359375 (19,127)
7.78289794921875 (15,118)
7.7739715576171875 (20,170)

W tym przypadku wszystkie otrzymane czasy s± mniejsze ni¿ 7,8 s., a otrzymane linie przejazdu wygl±daj± bardzo dobrze. Warto równie¿ zauwa¿yæ, ¿e w pierwszym przypadku otrzymali¶my najlepszy czas - 7,729 s.

%TODO opis
\begin{figure}[h]
\label{fig:w6wyk}
\centering
\includegraphics[scale=0.5]{wyniki/wynik6-wyk}
\end{figure}

Powy¿szy wykres pokazuje jak zmieni³ siê ¶redni czas uzyskanych wyników odpowiednio dla kolejnych warto¶ci parametrów $\mu$ i $\lambda$. Widaæ, ¿e choæ poprawa jest niewielka, bo o oko³o 0,05 s, to jednak widoczny jest trend wskazuj±cy, ¿e zwiêkszenie populacji wp³ywa pozytywnie na znajdowane rozwi±zanie.

\subsubsection{Gêsto¶æ siatki}
Aby uzyskaæ dok³adniejsze rozwi±zania zawsze mo¿na spróbowaæ zagê¶ciæ pionowe linie wyznaczaj±ce ile punktów stanowi reprezentacjê trasy. Do tej pory linie te by³y w odleg³o¶ci 3 m. Po zmianie na 2 m czas dzia³ania algorytmu powinien siê znacznie wyd³u¿yæ ze wzglêdu na wiêksz± ilo¶æ rozpatrywanych punktów.

%TODO opis
\begin{figure}[h]
\label{fig:w7s}
\centering
\includegraphics[scale=0.8]{wyniki/wynik7-s}
\end{figure}

%TODO opis
\begin{figure}[h]
\label{fig:w7w}
\centering
\includegraphics[scale=0.5]{wyniki/wynik7-w}
\end{figure}

Czas wykonania wyd³u¿y³ siê do 100-150 s., a ilo¶æ iteracji zwiêkszy³a siê do ok. 20. Mimo zwiêkszenia dok³adno¶ci, wci±¿ istniej± na trasie zbyt ostre zmiany kierunku, które w rzeczywisto¶ci s± niemo¿liwe do wykonania bez dodatkowego czasu oraz zmniejszenia prêdko¶ci. Z tego powodu obliczona trasa jest miejscami zbyt kanciasta. Powstaje pytanie czy nie nale¿a³oby dodaæ pewnego mechanizmu, które eliminowa³oby zbyt ostre zmiany kierunku np. poprzez uwzglêdnienie konieczno¶ci zmniejszenia prêdko¶ci w takich miejscach. W dalszej czê¶ci pracy zostanie pokazane jak takie rozwi±zanie wp³ywa na otrzymywane wyniki.

\subsubsection{D³uga trasa}
\label{dlugaTrasa}
Dotychczas rozpatrywany slalom by³ jedynie fragmentem standardowego slalomu, czas przejazdu wynosi³ mniej ni¿ 8 s. Pozostaje pytanie, czy dla wiêkszej ilo¶ci bramek algorytm nadal bêdzie w stanie znale¼æ rozwi±zanie zbli¿one do optymalnego oraz jak du¿o czasu bêdzie potrzebne do jego znalezienia. Mo¿liwe te¿, ¿e algorytm bêdzie potrzebowa³ zmiany parametrów, aby znale¼æ rozwi±zanie.

Sprawdzone zostanie teraz jakie wyniki otrzymamy dla d³u¿szego slalomu: (19,10),(11,30),(20,50),(12,65),(0,80),(10,100),(3,120),(6,135)). Parametry $\mu$ i $\lambda$ pozostaj± ustawione na 30 i 100. Parametry zatrzymania algorytmu zostawiamy, aby algorytm dzia³a³ d³u¿ej:

\begin{itemize}
\item dla zró¿nicowania populacji przyjmujemy na warto¶æ 0.01, czyli 1\%
\item zmiana najlepszego osobnika jest uznawana za wystarczaj±co du¿± je¶li wyniesie przynajmniej 0.05 s
\item ilo¶æ iteracji przez które czekamy na zmianê najlepszego osobnika - 10
\end{itemize}

%TODO opis
\begin{figure}[h]
\label{fig:w8ws}
\centering
\includegraphics[scale=1]{wyniki/wynik8-ws}
\end{figure}	

Otrzymany wynik to 11.087 s. Obliczenia trwa³y 170 s., a algorytm potrzebowa³ 23 iteracje do zakoñczenia obliczeñ. Znów mo¿na powiedzieæ, ¿e wynik nie jest wynikiem z³ym, jednak pozostawia wiele do ¿yczenia - istnieje wiele ostrych zakrêtów, zw³aszcza w okolicach bramek, rozwi±zanie nie jest idealne. 

\subsection{Lokalna optymalizacja}
\label{sec:lokalnaWyniki}
Poniewa¿ algorytm genetyczny mia³ problem ze znalezieniem lepszych rozwi±zañ zw³aszcza kiedy dotychczas znalezione rozwi±zanie dawa³o ju¿ dosyæ dobry wynik, ale wci±¿ istnia³y miejsca, które go³ym okiem mo¿na by³o zobaczyæ jako wp³ywaj±ce negatywnie na jako¶æ wyniku. Skoro algorytm nie radzi³ sobie bêd±c blisko rozwi±zania, mo¿na spróbowaæ dodaæ jaki¶ rodzaj algorytmu optymalizacji lokalnej, bazuj±c na rozwi±zaniu znalezionym przez algorytm genetyczny. Mamy wtedy pewno¶æ, ¿e znajdziemy rozwi±zanie niegorsze od tego, na którym bazujemy i dodatkowo, ¿e bêdzie ono najlepszym lokalnym rozwi±zaniem. Mo¿emy mieæ tak¿e nadziejê, ¿e bêdzie to równie¿ rozwi±zanie globalnie optymalne, ale pewno¶ci mieæ nie mo¿emy.

\paragraph{Eksperyment 1.}
Spróbujmy zatem, bazuj±c na eksperymencie D³uga trasa w sekcji \ref{sec:ewolucyjnyWyniki} porównaæ jak poprawi siê otrzymany wynik dodaj±c na koniec obliczeñ optymalizacjê lokaln± algorytmem Hill climbing. Wszystkie parametry oraz trasa przejazdu pozostaj± takie same jak w eksperymencie, do którego siê odwo³ujemy.

%TODO opis
\begin{figure}[h]
\label{fig:w9ws}
\centering
\includegraphics[scale=1]{wyniki/wynik9-ws}
\end{figure}

%TODO opis
\begin{figure}[h]
\label{fig:w9wyk}
\centering
\includegraphics[scale=0.7]{wyniki/wynik9-wyk}
\end{figure}

Na wykresie \ref{fig:w9ws} wci±¿ znajduj± siê zmiany wy³±cznie dotycz±ce algorytmu genetycznego. Czarna linia trasy jest rezultatem otrzymanym po dzia³aniu samego algorytmu genetycznego, czas przejazdu po takiej trasie wynosi 11.060 s., a wiêc jest to czas zbli¿ony do otrzymanego w eksperymencie bazowym. Algorytm genetyczny dzia³a³ przez 21 iteracji.
Czerwona linia stanowi trasê uzyskan± po zaaplikowaniu algorytmu optymalizacji lokalnej na trasie znalezionej przez algorytm genetyczny. Na wykresie \ref{fig:w9wyk} mo¿emy zobaczyæ jak dok³adnie zmienia³ siê czas przejazdu w ka¿dej iteracji algorytmu lokalnego. Iteracja numer 0 to wynik otrzymany przez algorytm genetyczny. Po 7 iteracjach otrzymali¶my wynik 10.825 s., co stanowi poprawê o  0.235 s., czyli ok. 2\%. Poprawa ta jest zdecydowanie zauwa¿alna tak¿e w kszta³cie slalomu i na tyle znacz±ca, ¿e decyduje o zwyciêstwie zawodnika.

%na pocz±tku: {b: 13.529281616210938, w: 16.819839477539062} 48 punktów optymalizowanych


\paragraph{Eksperyment 2.}
%TODO to jest z karaniem!!
W eksperymencie pierwszym sprawdzili¶my dzia³anie algorytmu lokalnego dla domy¶lnie ustawionych parametrów. W zastosowanym algorytmie Hill Climbing mamy mo¿liwo¶æ zmiany dwóch parametrów:

\begin{itemize}
\item rozmiar kroku
\item tzw. przyspieszenie (ang. \textit{acceleration}) 
\end{itemize}

Szczegó³owy opis parametrów mo¿na znale¼æ w podrozdziale \ref{sec:hill}. W domy¶lnym ustawieniu warto¶ci tych parametrów wynosz± odpowiednio 0.5 (odpowiadaj±ca 0.5 metrom na rzeczywistej trasie) oraz 1.2 dla przyspieszenia. W przeprowadzonym eksperymencie poka¿emy jak te parametry wp³ywaj± na ostateczne rozwi±zanie. Na rezultacie dzia³ania algorytmu genetycznego uruchomimy trzy razy algorytm lokalnej optymalizacji ale z nastêpuj±cymi zestawami parametrów:

%TODO opis tabelki
\begin{tabular}{ | c | c | c |}
  \hline                        
  nr & wielko¶æ kroku [m] & przyspieszenie \\ \hline  
  1 & 0.5 & 1.2 \\ \hline
  2 & 0.3 & 1.2 \\ \hline
  3 & 0.3 & 1.1 \\ \hline
\end{tabular}\\

%TODO opis
\begin{figure}[h]
\label{fig:w11ws}
\centering
\includegraphics[scale=0.7]{wyniki/wynik11-ws1}
\end{figure}

%TODO opis
\begin{figure}[h]
\label{fig:w11ws2}
\centering
\includegraphics[scale=0.7]{wyniki/wynik11-ws2}
\end{figure}

Powy¿sze wykresy pokazuj± otrzymane trasy dla poszczególnych instancji algorytmów:
\begin{itemize}
\item trasa czarna - trasa uzyskana w wyniki dzia³ania algorytmu genetycznego
\item trasa czerwona - optymalizacja lokalna z parametrami domy¶lnymi
\item trasa niebieska - optymalizacja lokalna z krokiem 0.3 m
\item trasa zielona - optymalizacja lokalna z krokiem 0.3 m oraz przyspieszeniem 1.1
\end{itemize}

%TODO pierwszy  i drugi wykres +-karanie

Trasy otrzymane w wyniku dzia³ania algorytmu optymalizacji lokalnej ró¿ni± siê miejscami od siebie, choæ w niewielkim stopniu. Niewielkie zró¿nicowanie wynika z tego, ¿e pocz±tkowa trasa, któr± nale¿a³o zoptymalizowaæ by³a w ka¿dym przypadku taka sama. Algorytm Hill Climbing jest algorytmem deterministycznym, ale zmiana parametrów tego algorytmu wp³ywa na otrzymywany wynik koñcowy. Jednak w przypadku pierwszym zmiany s± minimalne, a otrzymywany wynik tak naprawdê mo¿na sprowadziæ do jazdy od bramki do bramki po liniach prostych. W drugim te¶cie wyniki ró¿ni± siê zw³aszcza w okolicach bramek, gdzie podejmowane s± decyzje o wcze¶niejszym lub pó¼niejszym skrêcie - to tam mo¿na najwiêcej zyskaæ lub straciæ. 

Wyniki:

eksperyment 1. bez karania \\
Czas dzia³ania programu: 181 s. \\
Czas uzyskany w wyniku dzia³ania algorytmu genetycznego: 10.974 \\
 
%TODO
\begin{tabular}{ | c | c | c |}
  \hline                        
  nr & otrzymany czas przejazdu [s] & ilo¶æ iteracji\\ \hline  
  1 & 10.829 & 6 \\ \hline
  2 & 10.819 & 8 \\ \hline
  3 & 10.824 & 8 \\ \hline
\end{tabular}\\


eksperyment 2. z karaniem \\
Czas dzia³ania programu: 253 s. \\
Czas uzyskany w wyniku dzia³ania algorytmu genetycznego: 10.895 \\

%TODO
\begin{tabular}{ | c | c | c |}
  \hline                        
  nr &  otrzymany czas przejazdu [s] & ilo¶æ iteracji\\ \hline  
  1 & 11.036 & 11 \\ \hline
  2 & 11.050 & 14 \\ \hline
  3 & 11.024 & 10 \\ \hline
\end{tabular}\\

%10.828910174398331 (6)
%10.818552975659884 (8)
%10.824364225106574 (8)

%czas 181 s, przed lokalna 10.974349975585938

%11.035537719726562(11)
%11.04949951171875(14)
%11.023712158203125(10)

%czas 253 s., przed 10.894622802734375

W pierwszej czê¶ci eksperymentu najlepszy czas otrzymany zosta³ dla drugiego przypadku, a wiêc przy zmniejszeniu wy³±cznie kroku. Poprawa w stosunku do pozosta³ych przypadków to 0.005-0.01 s czyli mniej ni¿ 0.1\%, ale widzimy, ¿e nawet tak niewielkie zmiany na trasie przejazdu mog± wp³ywaæ na koñcowy wynik.

Drugi przypadek jest trudniejszy do analizy, poniewa¿ wprowadzenie karania powoduje, ¿e nie jeste¶my w stanie przenie¶æ uzyskiwanych ocen do rzeczywisto¶ci. Wed³ug nich, znów najlepszy okazuje siê byæ zestaw parametrów z drugiego przypadku, kiedy jednak sprawdzimy uzyskiwane czasy, widzimy, ¿e s± one gorsze ni¿ najlepszy uzyskany wynik z algorytmu genetycznego, a w dodatku
kolejno¶æ rezultatów nie pokrywa siê z kolejno¶ci± ocen - najlepszy czas uzyskany zosta³ w ostatnim przypadku. Uzasadnieniem tego zachowania jest fakt uwzglêdniania w karaniu zbyt ostrych zakrêtów, które fizycznie nie s± mo¿liwe do wykonania lub musia³yby zabraæ dodatkowy czas. W rzeczywisto¶ci wyniki z pierwszego eksperymentu s± niemo¿liwe do otrzymania - przy ka¿dej bramce musieliby¶my straciæ dodatkowy czas na przestawienie nart poprzez konieczno¶æ przyhamowania.

%---------------------------------------------------------------------------

\section{Uczenie maszynowe}
\label{sec:uczenieWyniki}

%---------------------------------------------------------------------------

\section{Architektura systemu}
\label{sec:architektura-podsumownanie}


Aby zweryfikowaæ funkcjonalno¶æ zaproponowanej architektury zaplanowany zosta³ szereg eksperymentów, maj±cym na celu zbadaæ:

\begin{itemize}
\item wydajno¶æ poszczególnych przegl±darek dla intensywnych obliczeñ (Chrome, Firefox, Internet Explorer) oraz znalezienie maksymalnej prêdko¶ci obliczeñ na jednej maszynie, poprzez znalezienie optymalnej konfiguracji - ilo¶ci uruchomionych na raz kart przegl±darki
\item skuteczno¶æ rekrutowania ochotników do obliczeñ typu Volunteer Computing w przegl±darce, poprzez internetowe media spo³eczno¶ciowe
\end{itemize}

 
\subsection{Wydajno¶æ przegl±darek dla intensywnych obliczeñ}
\label{sec:wydajnoscSilnikow}
W celu zbadania wydajno¶ci silników \textit{JavaScript} dla rozwi±zywania naszego problemu zosta³ przeprowadzony nastêpuj±cy eksperyment. 

\paragraph{Niezmienne warunki przeprowadzanego eksperymentu}
\begin{itemize}
\item ta sama maszyna - Procesor Intel Core i5-2410M, 2.3 GHz, 8 GB pamiêci RAM, System Windows 7 Home Premium
\item bardzo zbli¿one i zminimalizowane obci±¿eniu procesowa przez inne procesy
\item obliczana jest ta sama instancja problemu (ta sama konfiguracja slalomu)
\item dana przegl±darka ma uruchomion± tylko jedn± instancjê
\item instancja uruchomionej przegl±darki ma otwarte tylko okre¶lon± liczbê zak³adek
\item wszystkie zak³adki prowadz± obliczenia 
\end{itemize}

\paragraph{Zmienne warunki przeprowadzanego eksperymentu}
\begin{itemize}
\item model przegl±darki
\begin{itemize}
\item Internet Explorer v. 10
\item Chrome v.29
\item Firefox v.23
\end{itemize}

\item docelowa liczba kart w których równocze¶nie maj± byæ prowadzone obliczenia (1-15)
\begin{itemize}
\item 1
\item 3
\item 6
\item 9
\item 15
\end{itemize}

\end{itemize}

\paragraph{Sposób przeprowadzania eksperymentu}
\begin{itemize}
\item manualnie, wiêc z oko³o 1 sekundowym opó¼nieniem na ka¿d± zak³adkê przegl±darki, uruchomione s± obliczenia 
\item na konsoli przegl±darki wypisuj± jest czas po¶wiêcony na obliczenie kolejno znajdowanego rozwi±zania
\item notowane s± wyniki, gdy sumaryczna liczba rozwi±zañ problemu (\textit{A}) wynosi co najmniej 10
\item sumowany jest czas po¶wiêcony przez ka¿d± z zak³adek na obliczenia
\item od wyniku ka¿dej kolejnej zak³adki odejmowana jest jedna sekunda, razy numer zak³adki. Zak³adki s± numerowane od 0. Ma to na celu zminimalizowanie b³êdu wynikaj±cego z opó¼nienia uruchomienia obliczenia wynikaj±cego z manualnego uruchamiania.
\item z powy¿szej sumy, wybierane jest maksimum - $T_{MAX}$. $T_{MAX}$ jest czasem w którym sumarycznie, przegl±darki uzyska³y \textit{A} wyników
\item obliczana jest tempo obliczeñ:

$P=\frac{T_{MAX}}{A}[\frac{s}{rozwiazanie}]$

\end{itemize}

\begin{table}[h]
\caption{Niezale¿nie uruchomione obliczenia na ka¿dej z przegl±darek. W ka¿dej z przegl±darek obliczenia prowadzone w jednej zak³adce.}
\label{jednaZakladka}
\begin{tabular}{|l|l|l|l|}
\multicolumn{4}{c}{} \\ \hline
                                                                                                                               & \textbf{Chrome}        & \textbf{Firefox}        & \textbf{IE}       \\ \hline
Numer zak³adki                                                                                                                 & 0                      & 0                       & 0                 \\ \hline
\multirow{10}{*}{\textbf{\begin{tabular}[c]{@{}c@{}}Czas rozwi±zania kolejnego\\  problemu w sekundach\end{tabular}}}          & 50.67                  & 351.528                 & 125.749           \\ \cline{2-4} 
                                                                                                                               & 59.671                 & 272.213                 & 137.551           \\ \cline{2-4} 
                                                                                                                               & 48.118                 & 209.443                 & 153.626           \\ \cline{2-4} 
                                                                                                                               & 47.877                 & 160.335                 & 163.051           \\ \cline{2-4} 
                                                                                                                               & 64.928                 & 208.956                 & 178.417           \\ \cline{2-4} 
                                                                                                                               & 50.003                 & 239.561                 & 152.229           \\ \cline{2-4} 
                                                                                                                               & 44.629                 & 189.09                  & 124.884           \\ \cline{2-4} 
                                                                                                                               & 53.924                 & 214.901                 & 123.323           \\ \cline{2-4} 
                                                                                                                               & 80.939                 & 193.573                 & 105.364           \\ \cline{2-4} 
                                                                                                                               & 50.685                 & 195.714                 & 90.609            \\ \hline
\textbf{Suma czasów}                                                                                                           & 551.444                & 2235.314                & 1354.803          \\ \hline
\textbf{\begin{tabular}[c]{@{}c@{}}Suma czasów z uwzglêdnieniem\\ opó¼nienia uruchomienia i zaokr±gleniem\end{tabular}}        & 551                    & 2235                    & 1355              \\ \hline
\textbf{$T_{max} [s]$}                                                                                                           & 551                    & 2235                    & 1355              \\ \hline
\textbf{A - Ilo¶æ obliczonych rozwi±zañ}                                                                                       & 10                     & 10                      & 10                \\ \hline
\textbf{P - Tempo [s/rozwi±zanie]}                                                                                             & 55.1                   & 223.5                   & 135.5             \\ \hline
\end{tabular}
\end{table}

\begin{table}[h]
\caption{Uruchomienie obliczeñ w 6 zak³adkach przegl±darki Chrome równocze¶nie.}
\label{szescZakladekCh}
\begin{tabular}{|l|l|l|l|l|l|l|}
\multicolumn{7}{c}{}                                                                                          \\ \hline
\multicolumn{7}{|l|}{\textbf{Chrome}}                                                                                                                                                \\ \hline
Numer zak³adki                                                                                                           & 0       & 1       & 2       & 3       & 4       & 5       \\ \hline
\multirow{4}{*}{\textbf{\begin{tabular}[c]{@{}c@{}}Czas rozwi±zania kolejnego \\ problemu w sekundach\end{tabular}}}     & 122.138 & 131.19  & 211.114 & 106.006 & 227.966 & 133.511 \\ \cline{2-7} 
                                                                                                                         & 178.092 & 167.305 & 161.464 & 132.485 & 210.441 & 144.768 \\ \cline{2-7} 
                                                                                                                         & 128.211 & 108.657 & 128.156 & 96.603  & 190.033 & 204.7   \\ \cline{2-7} 
                                                                                                                         & 188.534 & 107.546 & 170.106 & 155.116 & 148.481 & 184.593 \\ \hline
\textbf{Suma czasów}                                                                                                     & 616.975 & 514.698 & 670.84  & 670.84  & 490.21  & 667.572 \\ \hline
\textbf{\begin{tabular}[c]{@{}c@{}}Suma czasów z uwzglêdnieniem \\ opó¼nienia uruchomienia i zaokr±gleniem\end{tabular}} & 617     & 514     & 669     & 668     & 486     & 663     \\ \hline
\textbf{$T_{max} [s]$}                                                                                                     & \multicolumn{6}{|c|}{669}                                 \\ \hline
\textbf{A - Ilo¶æ obliczonych rozwi±zañ}                                                                                 & \multicolumn{6}{|c|}{24}                                  \\ \hline
\textbf{P - Tempo [s/rozwi±zanie]}                                                                                       & \multicolumn{6}{|c|}{27.9}                                \\ \hline
\end{tabular}
\end{table}

\begin{table}[h]
\caption{Uruchomienie obliczeñ w 6 zak³adkach przegl±darki Firefox równocze¶nie.}
\label{szescZakladekFF}
\begin{tabular}{|l|l|l|l|l|l|l|}
\multicolumn{7}{c}{}                                                                                                                                     \\ \hline
\textbf{Firefox}                                                                                                                                              &          &          &          &          &          &          \\ \hline
Numer zak³adki                                                                                                                                                & 0        & 1        & 2        & 3        & 4        & 5        \\ \hline
\multirow{3}{*}{\textbf{\begin{tabular}[c]{@{}c@{}}Czas rozwi±zania kolejnego\\ problemu w sekundach\end{tabular}}} & 971.73   & 876.713  & 870.914  & 987.587  & 622.23   & 959.31   \\ \cline{2-7} 
                                                                                                                                                              & 707.105  & 1181.745 & 1167.395 & 987.172  & 787.954  & 716.807  \\ \cline{2-7} 
                                                                                                                                                              & 471.037  &          &          &          & 608.404  &          \\ \hline
\textbf{Suma czasów}                                                                                                                                          & 2149.872 & 2058.458 & 2038.309 & 1974.759 & 2018.588 & 1676.117 \\ \hline
\textbf{\begin{tabular}[c]{@{}c@{}}Suma czasów z uwzglêdnieniem \\ opó¼nienia uruchomienia i zaokr±gleniem\end{tabular}}                                      & 2150     & 2057     & 2036     & 1972     & 2015     & 1671     \\ \hline
\textbf{$T_{max} [s]$}                                                                                                                                          & \multicolumn{6}{|c|}{2150}                                      \\ \hline
\textbf{A - Ilo¶æ obliczonych rozwi±zañ}                                                                                                                      & \multicolumn{6}{|c|}{14}                                        \\ \hline
\textbf{P - Tempo [s/rozwi±zanie]}                                                                                                                            & \multicolumn{6}{|c|}{153.6}                                     \\ \hline
\end{tabular}
\end{table}

\begin{table}[h]
\caption{Uruchomienie obliczeñ w 6 zak³adkach przegl±darki Internet Explorer równocze¶nie.}
\label{szescZakladekIE}
\begin{tabular}{|l|l|l|l|l|l|l|}
\multicolumn{7}{c}{}                                                                                            \\ \hline
\multicolumn{7}{|l|}{\textbf{Internet Explorer}}                                                                                                                                       \\ \hline
Numer zak³adki                                                                                                          & 0        & 1       & 2       & 3        & 4        & 5       \\ \hline
\multirow{4}{*}{\textbf{\begin{tabular}[c]{@{}c@{}}Czas rozwi±zania kolejnego\\ problemu w sekundach\end{tabular}}}     & 465.152  & 186.834 & 154.918 & 247.763  & 486.031  & 147.32  \\ \cline{2-7} 
                                                                                                                        & 267.013  & 194.181 & 212.844 & 248.019  & 295.73   & 200.593 \\ \cline{2-7} 
                                                                                                                        & 260.614  & 207.847 &         & 415.193  & 280.427  & 172.52  \\ \cline{2-7} 
                                                                                                                        & 260.386  & 245.773 &         & 248.019  &          & 231.295 \\ \hline
\textbf{Suma czasów}                                                                                                    & 1253.165 & 834.635 & 367.762 & 1158.994 & 1062.188 & 751.728 \\ \hline
\textbf{\begin{tabular}[c]{@{}c@{}}Suma czasów z uwzglêdnieniem\\ opó¼nienia uruchomienia i zaokr±gleniem\end{tabular}} & 1253     & 834     & 366     & 1156     & 1058     & 747     \\ \hline
\textbf{$T_{max} [s]$}                                                                                                    & \multicolumn{6}{|c|}{1253}                                   \\ \hline
\textbf{A - Ilo¶æ obliczonych rozwi±zañ}                                                                                & \multicolumn{6}{|c|}{21}                                     \\ \hline
\textbf{P - Tempo [s/rozwi±zanie]}                                                                                      & \multicolumn{6}{|c|}{59.7}                                   \\ \hline
\end{tabular}
\end{table}

\begin{figure}[h]
\centering
\includegraphics[width=0.9\textwidth]{wydajnoscZakladki}
\caption{Porównanie wydajno¶ci ró¿nych modeli przegl±darek w rozwi±zywaniu problemu, przy uruchomieniu obliczeñ w kilku zak³adkach równocze¶nie.}
\label{fig:wydajnoscZakladki}
\end{figure}

\paragraph{Wnioski}

Eksperyment wykaza³, ¿e wydajno¶æ obliczeñ drastycznie ró¿ni siê w zale¿no¶ci od modelu przegl±darki, a wiêc od u¿ytego silnika JavaScript. Najlepiej wypad³a przegl±darka Chrome, ponad dwa razy wolniejsza okaza³a siê najnowsza przegl±darka Internet Explorer, a ponad 4 razy gorsza przegl±darka Firefox. Ciekawe wyniki dotycz± wydajno¶ci dla obliczeñ prowadzonych w wielu kartach przegl±darki jednocze¶nie. Dla ka¿dej z przegl±darek, zdecydowanie wydajniej jest uruchamiaæ obliczenia w dwóch zamiast w jednej zak³adce jednocze¶nie. Równoleg³e obliczenia w dwóch oknach, prawie, ¿e nie wp³ywaj± na spowolnienie obliczeñ w którym¶ z nich, przez co uzyskuje siê prawie dwukrotny skok w tempie rozwi±zania problemów. Replikowanie obliczeñ na kolejne zak³adki nie przynosi ju¿ jednak istotnego przyspieszenia. W Przypadku przegl±darki Chrome, najlepsze tempo uzyskuje siê przy 9-14 otwartych równolegle zak³adkach. Przy 15 otwartych instancjach prowadz±cych obliczenia, wyniki zaczynaj± siê ju¿ pogarszaæ. W przypadku Internet Explorera, optymalna ilo¶æ zak³adek, to miêdzy 6 a 8. Przy 9 zak³adkach, tempo istotnie spad³o- bo o prawie 80 procent, w stosunku do 8 okien. Najgorzej poradzi³ sobie z równoleg³ym przetwarzaniem Firefox. Najbardziej optymaln± dla tego silnika konfiguracj± s± 4 zak³adki dokonuj±ce równolegle obliczeñ. Ju¿ przy 5,6 zak³adkach ca³o¶ciowe tempo spada. Uruchomienie obliczeñ w 9 zak³adkach równocze¶nie okaza³o siê na testowej maszynie niemo¿liwe, gdy¿ powodowa³o awaryjne zakoñczenie dzia³ania programy Firefox. 

Ciekawym wnioskiem jest te¿ fakt, ¿e przegl±darki przydzielaj± podobne zasoby do obliczeñ w tle, prowadzonych przez wiele kart równocze¶nie, i nie ma istotnego znaczenia, która z kart jest kart± otwart±. Obserwacjê t± ilustruj± zrzuty ekranu z managera zadañ systemu podczas prowadzenia obliczeñ oraz wyniki w tabelach, na których widaæ ¿e czas rozwi±zywania problemu jest zbli¿ony dla ka¿dej z kart.

\begin{figure}[h]
\centering
\includegraphics[width=0.7\textwidth]{taskManager4}
\caption{Podzia³ zu¿ycia procesora dla 4 zak³adek przegl±darki Chrome prowadz±cej obliczenia.}
\label{fig:taskManager4}
\end{figure}

\begin{figure}[h]
\centering
\includegraphics[width=0.7\textwidth]{taskManager15}
\caption{Podzia³ zu¿ycia procesora dla 15 zak³adek przegl±darki Chrome prowadz±cej obliczenia.}
\label{fig:taskManager15}
\end{figure}


\subsection{Skuteczno¶æ rekrutowania ochotników do obliczeñ w przegl±darkowym modelu Volunteer Computing}
\label{skutecznoscRekrutacjiFacebook}
Celem eksperymentu by³o sprawdzenie ile rozwi±zañ uda siê zebraæ udostêpniaj±c link prowadz±cy do strony internetowej dziêki, której mo¿na do³±czyæ do obliczeñ. Link zosta³ udostêpniony poprzez kilka internetowych kana³ów spo³eczno¶ciowych:

\begin{itemize}
\item na prywatnej tablicy w serwisie Facebook (520 znajomych)
\item na tablicy Studenckiego Klubu Narciarskiego FIRN AGH w serwisie Facebook (180 obserwuj±cych)
\item w serwisie Wykop.pl
\item z prywatnego konta w serwisie Twitter  (120 obserwuj±cych)
\end{itemize}

Przez 6 h od udostêpnienia linku, stronê odwiedzi³o 221 unikatowych odwiedzaj±cych podczas 259 wizyt. W tym czasie do naszej bazy danych wp³ynê³o ponad 2000 rozwi±zañ. W ci±gu kolejnych 24 godzin, do bazy sp³ynê³o jeszcze ponad 2500 rozwi±zañ, co pokazuje, ¿e czê¶æ ludzi raz zarekrutowanych do obliczeñ, zosta³o wierna eksperymentowi przez nastêpny dzieñ. Po tygodniu od akcji promuj±cej, w bazie by³o ponad 6 tysiêcy nowych rozwi±zañ.

Przy najbardziej efektywnym u¿yciu zasobów ¶redniej klasy komputera typu laptop (procesor Intel Core i5, 4 rdzenie), 6h obliczeñ w najbardziej wydajnym modelu (równolegle uruchomione 9 zak³adek przegl±darki Chrome) przyniesie oko³o 900 rozwi±zañ (6 h = 21600 s; Tempo 23.9 s/ 1 rozwi±zanie) Ten sam efekt uda³o siê, dziêki zaprzêgniêciu do obliczeñ ochotników, w nieca³e 2 godziny. Nie jest to wielkie przyspieszanie, ale nale¿y zwróciæ uwagê, ¿e podjêcie obliczeñ by³o czysto dobrowolne, a osoby bior±ce w nich udzia³ nie by³y o to personalnie proszone, tylko same zdecydowa³y siê do³±czyæ do projektu.

Ciekawym efektem by³o to, ¿e osoby bior±ce udzia³ w obliczeniach, poczu³y nutkê rywalizacji w celu osi±gniêcia przez swoj± maszynê najlepszego wyniku obliczeñ (tj. toru przejazdu, który narciarz pokonuje w najkrótszym czasie) i chêtnie chwali³y siê w serwisie spo³eczno¶ciowym Facebook osi±gniêtymi wynikami. Ochotnicy pozytywnie wypowiadali siê te¿ o tym, ¿e na bie¿±co mogli obserwowaæ postêp obliczeñ a nawet aktualnie ewaluowan± trasê. Osoby, które nie by³y obeznane w temacie narciarstwa alpejskiego, prosi³y o wyt³umaczenie dlaczego konfiguracja slalomu wygl±da tak a nie inaczej. Uda³o siê zatem zainteresowaæ samym problemem du¿± grupê ludzi, co jest sukcesem w samym sobie, osi±gniêtym w znacznym stopniu dziêki wyborze architektury, który przyczyni³ siê do ³atwej dostêpno¶ci platformy.


\section{Podsumowanie}
\label{sec:podsumowanieWyniki}

%---------------------------------------------------------------------------

Przemy¶lenie: brak zarz±dzania, automatycznego uruchomiania obliczeñ, ryje procek ca³y czas bez wzglêdu na to jak potrznuje go zwyk³y u¿ytkownik komputera

co z tego ¿e super konfiguracje jak nie ma narzêdzia do uruchamiani ich w takich konfiguracjach, nikt nie bêdzie tego robi³ rêcznie. 

potencja³ edukacyjny z ma³ym uczuciem, ¿e pomaga siê nauce


%---------------------------------------------------------------------------

